<html> 
  <head>
    <title>Can Soler</title> 
    <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>
    <link rel="stylesheet" href="styles.css">
    <script src="cansoler.js"></script>

    <link rel="icon"  type="image/x-icon" href="{{ imgdir }}logo.png">

    <style>
      body {
        font-family: 'Comfortaa'; font-size: 22px;
      }
    </style>
  </head>

  <body> 
    <div id="header">
      <div class="box">
        <div class="box">
          <div class="logo">
            <h1><img src="{{ imgdir }}logo.png"/>  Can Soler</h1> 
          </div>
        </div>
        <div>
          <h2>Your home in Mallorca</h2> 
        </div>
      </div>
    </div>

    <section class="section bluebkg">
      <div class="sectionbox" id="thehouse">
        <h2>The house</h2>

        <!-- Slideshow container -->
        <div class="slideshow-container">

          <!-- Full-width images with number and caption text -->

          {% for fotocasa in fotoscasa %}
          <div class="mySlides fade">
            <div class="numbertext">{{ loop.index }} / {{ fotoscasa | length }}</div>
            <div class="sliderImage">
              <img src="{{ imgdir }}{{ fotocasa.img }}" style="height:75%">
            </div>
            <div class="text">{{ fotocasa.description }}</div>
          </div>
          {% endfor %}

          <!-- Next and previous buttons -->
          <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
          <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
        <br>

        <!-- The dots/circles -->
        <div style="text-align:center">

          {% for fotocasa in fotoscasa %}
          <span class="dot" onclick="currentSlide({{ loop.index }})"></span>
          {% endfor %}
        </div>
      </div>
    </section>

    <section class="section" onsubmit="return false">
      <div class="sectionbox" id="availability">
        <h2>Availability and contact</h2>
        <h3>Availability</h3>
        <p>You can check the availability of the house in the following calendar. Each scheduled stay is represented by an event that starts at the checkin day and end the day before the checkout.</p>
        <iframe src="https://calendar.google.com/calendar/embed?src=povm2urft1jgj4jak8mmbuhfp8%40group.calendar.google.com&ctz=Europe%2FMadrid" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
        <h3>Prices and contact</h3>
        The house is listed in <a href="{{ airbnblink }}" target="_blank">Airbnb</a> where you can check the prices for your stay. You can either book your stay there or directly contact us for a better deal.

        <div id="contactForm">
          <h3>Contact us</h3>
          <form id="contactFormForm">
            <div class="contactFormInput">
              <label for="name">Name:</label><br>
              <input type="text" id="name" name="name"><br>
            </div>

            <div class="contactFormInput">
              <label for="checkin">Checkin:</label><br>
              <input type="date" id="checking" name="checkin"><br>
            </div>
            <div class="contactFormInput">
              <label for="checkout">Checkout:</label><br>
              <input type="date" id="checkout" name="checkout"><br>
            </div>
            <div class="contactFormInput">
              <label for="numguests">Number of guests:</label><br>
              <select name="numguests">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
              </select><br>
            </div>
            <div class="contactFormInput">
              <label for="email">Your email <span class="req">*</span></label><br>
              <input type="email" name="email"/><br>
            </div>
            <div class="contactFormInput">
              <label for="message">Message:</label><br>
              <textarea type="textarea" id="message" name="message" cols="50" rows="4"></textarea><br>
            </div>
            <input class="btn-submit" type="submit" value="Contact" onclick="processContactForm()"/>
          </form>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="sectionbox" id="places to eat">
        <h2>Where to eat</h2>
        <div class="list-container">
          {% for restaurant in restaurants %}
          <div class="list-item">
            <div class="item-content">
              <h3>{{ restaurant.name }}</h3>
              <p>{{ restaurant.description }}</p>
              <div class="item-links">
                <a href="{{ restaurant.maps_link }}" target="_blank">{{ restaurant.address }}</a>
                <a href="{{ restaurant.link }}" target="_blank"> Visit their website </a>
              </div>
            </div>
            <div class="item-image">
              <img src="{{ imgdir }}{{ restaurant.img }}" alt="{{ restaurant.name }}"/>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>
  </body>


<script>
let slideIndex = 1;
showSlides(slideIndex);

function plusSlides(n) {
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}

function showSlides(n) {
  let i;
  let slides = document.getElementsByClassName("mySlides");
  let dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
    slides[i].style.display = "none";  
  }
  for (i = 0; i < dots.length; i++) {
    dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "block";  
  dots[slideIndex-1].className += " active";
}
</script>
</html>
